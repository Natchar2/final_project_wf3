{% extends 'defaultLayout.html.twig' %}

{% block stylesheets %}
	{{ parent() }}
	<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/Dropify/0.2.2/css/dropify.min.css">
{% endblock %}

{% block contenu %}
<div class="row">
	<div class="col-xs-6 col-xs-push-3">
		<h2 class="text-center">Vendre un objet</h2>

		{% if error is not empty %}
				<div class="alert alert-danger" role=alert>
			{% for value in error %}
				
					<p>{{value}}</p><br>
						
			{% endfor %}
		</div><br>
		{% endif %}

		{% if  errors is not empty %}
				<div class="alert alert-danger" role=alert>
			{% for value in errors %}
				
					<p>{{value}}</p><br>
						
			{% endfor %}
		</div><br>
		{% endif %}

		{% if success is defined %}
			<div class="alert alert-success" role=alert>
				<p>Votre annonce a bien été ajoutée</p>
			</div><br>
		{% endif %}

			<form action=""  class="form-horizontal" method="POST" enctype="multipart/form-data">

				<!-- nom et marque -->
				<div class="form-group">
					<label class="col-md-3 control-label">Nom ou modèle</label>
					<div class="col-md-7">
						<input class="form-control" type="text" name="name" required>
					</div>
				</div>
					<div class="form-group">
						<label class="col-md-3 control-label">Marque</label>
					<div class="col-md-7">
						<input class="form-control" type="text" name="brand" required>
					</div>
				</div>

				<!-- Categorie -->
				<div class="form-group">
						<label class="col-md-3 control-label">
							Catégorie
						</label>
						<div class="col-md-7">
						<select name="category" class="form-control">
							{% for value in categories %}
								<option value="{{value.ID_category}}">{{value.category_name}}</option>
							{% endfor %}
						</select>
					</div>
				</div>
				<div class="form-group">
					<label class="col-md-3 control-label">Sous-catégorie</label>
					<div class="col-md-7">
						<input class="form-control" type="text" name="sub_category">
					</div>
				</div>

				<!-- prix et frais de livraisons-->
				<div class="form-group">
					<label class="col-md-3 control-label">Prix</label>
					<div class="col-md-7">
						<input class="form-control" type="text" name="price" required>
					</div>
				</div>
				<div class="form-group">
					<label class="col-md-3 control-label">Frais de livraison</label>
					<div class="col-md-7">
						<input class="form-control" type="text" name="shipping_charges">
					</div>
				</div>

				<!-- Description -->
				<div class="form-group">
					<label class="col-md-3 control-label">Description</label>
					<div class="col-md-7">
						<textarea name="description" class="form-control" placeholder="Saisissez une description du produit"></textarea>
					</div>
				</div>

				<!-- Images -->
				<div class="form-group">
					<label class="col-md-3 control-label">Images</label>
					<div class="col-md-7">
						<input  type="file" class="dropify" name="image_1">
					</div>
					<label class="col-md-3 control-label">Images2</label>
					<div class="col-md-7">
						<input type="file" class="dropify" name="image_2">
					</div>
					<label class="col-md-3 control-label">Images3</label>
					<div class="col-md-7">
						<input type="file" class="dropify" name="image_3">
					</div>
				</div>
				<div class="form-group">
					<div class="col-md-7 col-md-push-3">
						<input  type="submit" class="btn btn-primary" value="Ajouter">
					</div>
				</div>
			</form>

	</div>
</div>

{% endblock %}

{% block javascripts %}
	{{parent()}}

	<script src="//cdnjs.cloudflare.com/ajax/libs/Dropify/0.2.2/js/dropify.min.js"></script>
	<script>
		$('.dropify').dropify({
		    messages: {
		        'default': 'Glissez-d&eacute;posez un fichier ici ou cliquez',
		        'replace': 'Glissez-d&eacute;posez un fichier ici ou cliquez pour remplacer',
		        'remove':  'Remplacer',
		        'error':   'Ooops, d&eacute;sol&eacute; le fichier est trop volumineux.'
		    }
		});
	</script>
	
{% endblock %}